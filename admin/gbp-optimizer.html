<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Google Business Profile Optimizer ‚Äî E17Studios Admin</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        :root{--bg:#09090f;--surface:#111118;--surface2:#16161f;--border:#25253a;--text:#e8e8f0;--muted:#8888a0;--dim:#55556a;--accent:#e74c3c;--green:#2ecc71;--blue:#3498db;--gold:#f39c12;--radius:12px}
        body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:var(--bg);color:var(--text);display:flex;min-height:100vh}
        a{text-decoration:none;color:inherit}

        .sidebar{width:260px;min-width:260px;background:var(--surface);border-right:1px solid var(--border);position:fixed;top:0;left:0;bottom:0;overflow-y:auto;padding:20px 0}
        .sidebar-logo{padding:0 20px 20px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:10px;margin-bottom:16px}
        .logo-mark{width:36px;height:36px;background:linear-gradient(135deg,var(--accent),#c0392b);border-radius:10px;display:flex;align-items:center;justify-content:center;font-weight:900;font-size:.75rem;color:#fff}
        .logo-text{font-weight:800;font-size:1.05rem}.logo-text span{color:var(--accent)}
        .nav-group{margin-bottom:8px;padding:0 12px}
        .nav-label{font-size:.65rem;text-transform:uppercase;letter-spacing:.1em;color:var(--dim);padding:12px 8px 6px;font-weight:700}
        .nav-link{display:flex;align-items:center;gap:10px;padding:8px 12px;border-radius:8px;font-size:.82rem;color:var(--muted);transition:all .15s;font-weight:500}
        .nav-link:hover{background:rgba(255,255,255,.04);color:var(--text)}
        .nav-link.active{background:rgba(231,76,60,.12);color:var(--accent);font-weight:600}

        .main{margin-left:260px;flex:1;padding:32px}
        .container{max-width:900px;margin:0 auto}

        .page-header{margin-bottom:32px}
        .page-header h1{font-size:1.8rem;font-weight:900;margin-bottom:6px}
        .page-header p{color:var(--muted);font-size:.9rem}

        .input-section{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:24px;margin-bottom:24px}
        .input-section h2{font-size:1rem;font-weight:800;margin-bottom:16px;display:flex;align-items:center;gap:8px}
        .input-row{display:grid;grid-template-columns:1fr 1fr 1fr auto;gap:12px;align-items:end}
        .input-group{display:flex;flex-direction:column;gap:6px}
        .input-group label{font-size:.72rem;font-weight:600;color:var(--muted);text-transform:uppercase;letter-spacing:.04em}
        .input-group input,.input-group select{padding:10px 14px;background:var(--surface2);border:1px solid var(--border);border-radius:8px;color:var(--text);font-size:.85rem;font-family:inherit}
        .input-group input:focus,.input-group select:focus{outline:none;border-color:var(--accent)}
        .analyze-btn{padding:10px 24px;background:var(--accent);color:#fff;border:none;border-radius:8px;font-weight:700;font-size:.85rem;cursor:pointer;transition:all .2s;white-space:nowrap;height:42px}
        .analyze-btn:hover{background:#c0392b}

        .score-section{display:none;margin-bottom:24px}
        .score-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:32px;text-align:center}
        .score-ring{width:160px;height:160px;border-radius:50%;margin:0 auto 20px;display:flex;align-items:center;justify-content:center;position:relative}
        .score-ring-inner{font-size:3rem;font-weight:900;z-index:1}
        .score-ring-label{font-size:.8rem;color:var(--muted);margin-top:-4px}
        .score-subtitle{color:var(--muted);font-size:.9rem;margin-bottom:20px}
        .score-breakdown{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-top:20px}
        .score-item{background:var(--surface2);border-radius:10px;padding:14px;text-align:center}
        .score-item-num{font-size:1.4rem;font-weight:900}
        .score-item-label{font-size:.68rem;color:var(--muted);text-transform:uppercase;letter-spacing:.04em;margin-top:2px}

        .audit-section{display:none}
        .audit-category{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:24px;margin-bottom:16px}
        .audit-category h3{font-size:1rem;font-weight:800;margin-bottom:14px;display:flex;align-items:center;gap:10px}
        .audit-item{display:flex;align-items:start;gap:12px;padding:12px 0;border-bottom:1px solid var(--border);font-size:.85rem}
        .audit-item:last-child{border-bottom:none}
        .audit-icon{font-size:1.1rem;flex-shrink:0;margin-top:1px}
        .audit-content{flex:1}
        .audit-content strong{font-weight:700}
        .audit-content p{color:var(--muted);font-size:.8rem;margin-top:3px;line-height:1.5}
        .audit-priority{flex-shrink:0;padding:3px 10px;border-radius:20px;font-size:.68rem;font-weight:700;text-transform:uppercase}
        .priority-high{background:rgba(231,76,60,.15);color:var(--accent)}
        .priority-medium{background:rgba(243,156,18,.15);color:var(--gold)}
        .priority-low{background:rgba(39,174,96,.15);color:var(--green)}

        .action-plan{display:none;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:24px;margin-bottom:24px}
        .action-plan h2{font-size:1.1rem;font-weight:800;margin-bottom:16px;display:flex;align-items:center;gap:8px}
        .action-step{display:flex;gap:14px;padding:14px 0;border-bottom:1px solid var(--border)}
        .action-step:last-child{border-bottom:none}
        .action-num{width:28px;height:28px;background:var(--accent);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:.75rem;flex-shrink:0}
        .action-text{font-size:.85rem}
        .action-text strong{display:block;margin-bottom:2px}
        .action-text span{color:var(--muted);font-size:.8rem}

        @media(max-width:1024px){.sidebar{display:none}.main{margin-left:0}}
        @media(max-width:600px){.input-row{grid-template-columns:1fr}.score-breakdown{grid-template-columns:1fr 1fr}}
    </style>
</head>
<body>

<aside class="sidebar">
    <div class="sidebar-logo">
        <div class="logo-mark">E17</div>
        <div class="logo-text">E17<span>Studios</span></div>
    </div>
    <nav>
        <div class="nav-group">
            <div class="nav-label">Pipeline</div>
            <a href="/admin/" class="nav-link">&#9633; CRM Dashboard</a>
            <a href="/admin/analytics.html" class="nav-link">&#9672; Analytics</a>
            <a href="/admin/lead-scoring.html" class="nav-link">&#9733; Lead Scoring</a>
        </div>
        <div class="nav-group">
            <div class="nav-label">Sales Tools</div>
            <a href="/admin/gbp-optimizer.html" class="nav-link active">&#10003; GBP Optimizer</a>
            <a href="/admin/proposal-generator.html" class="nav-link">&#9998; Proposal Generator</a>
            <a href="/admin/roi-calculator.html" class="nav-link">&#9736; ROI Calculator</a>
            <a href="/admin/competitor-analysis.html" class="nav-link">&#8982; Competitor Analysis</a>
            <a href="/admin/sales-script.html" class="nav-link">&#9998; Sales Script</a>
            <a href="/admin/sequence-builder.html" class="nav-link">&#9993; Sequence Builder</a>
        </div>
        <div class="nav-group">
            <div class="nav-label">Client Tools</div>
            <a href="/admin/client-success.html" class="nav-link">&#9650; Success Metrics</a>
            <a href="/admin/client-report.html" class="nav-link">&#9635; Client Report</a>
            <a href="/admin/client-dashboard.html" class="nav-link">&#9638; Client Dashboard</a>
            <a href="/admin/invoice.html" class="nav-link">&#9635; Invoice</a>
        </div>
        <div class="nav-group">
            <div class="nav-label">Navigation</div>
            <a href="/sitemap.html" class="nav-link">&#9776; Sitemap</a>
            <a href="/e17studios/" class="nav-link">&#9750; Public Site</a>
        </div>
    </nav>
</aside>

<main class="main">
    <div class="container">
        <div class="page-header">
            <h1>Google Business Profile Optimizer</h1>
            <p>Analyse any local business's Google presence and generate a prioritised improvement plan. Great for sales calls.</p>
        </div>

        <div class="input-section">
            <h2>Analyse a Business</h2>
            <div class="input-row">
                <div class="input-group">
                    <label>Business Name</label>
                    <input type="text" id="gbpName" placeholder="e.g. Morris Dry Cleaners" value="Morris Dry Cleaners">
                </div>
                <div class="input-group">
                    <label>Google Reviews</label>
                    <input type="number" id="gbpReviews" placeholder="e.g. 669" value="669">
                </div>
                <div class="input-group">
                    <label>Has Website?</label>
                    <select id="gbpWebsite">
                        <option value="no">No Website</option>
                        <option value="facebook">Facebook Only</option>
                        <option value="basic">Basic / Outdated</option>
                        <option value="good">Good Website</option>
                    </select>
                </div>
                <button class="analyze-btn" onclick="runAnalysis()">Analyse</button>
            </div>
        </div>

        <div class="score-section" id="scoreSection">
            <div class="score-card">
                <div class="score-ring" id="scoreRing">
                    <div>
                        <div class="score-ring-inner" id="scoreNum">0</div>
                        <div class="score-ring-label">out of 100</div>
                    </div>
                </div>
                <div class="score-subtitle" id="scoreText">Analysing...</div>
                <div class="score-breakdown" id="scoreBreakdown"></div>
            </div>
        </div>

        <div class="audit-section" id="auditSection"></div>

        <div class="action-plan" id="actionPlan"></div>
    </div>
</main>

<script>
function runAnalysis() {
    const name = document.getElementById('gbpName').value || 'This Business';
    const reviews = parseInt(document.getElementById('gbpReviews').value) || 0;
    const website = document.getElementById('gbpWebsite').value;

    // Calculate scores
    let reviewScore = Math.min(reviews / 10, 25);
    let presenceScore = website === 'no' ? 5 : website === 'facebook' ? 10 : website === 'basic' ? 15 : 22;
    let seoScore = website === 'good' ? 18 : website === 'basic' ? 10 : 5;
    let conversionScore = website === 'good' ? 15 : website === 'basic' ? 8 : 3;
    let totalScore = Math.round(reviewScore + presenceScore + seoScore + conversionScore);

    let scoreColor = totalScore < 30 ? 'var(--accent)' : totalScore < 60 ? 'var(--gold)' : 'var(--green)';
    let scoreLabel = totalScore < 30 ? 'Needs Significant Improvement' : totalScore < 60 ? 'Room for Growth' : 'Good Foundation';

    // Show score
    document.getElementById('scoreSection').style.display = 'block';
    document.getElementById('scoreNum').textContent = totalScore;
    document.getElementById('scoreNum').style.color = scoreColor;
    document.getElementById('scoreRing').style.background = `conic-gradient(${scoreColor} ${totalScore * 3.6}deg, var(--surface2) 0deg)`;
    document.getElementById('scoreText').textContent = `${name}: ${scoreLabel}`;

    document.getElementById('scoreBreakdown').innerHTML = `
        <div class="score-item"><div class="score-item-num" style="color:${reviewScore > 15 ? 'var(--green)' : 'var(--gold)'}">${Math.round(reviewScore)}/25</div><div class="score-item-label">Reviews</div></div>
        <div class="score-item"><div class="score-item-num" style="color:${presenceScore > 15 ? 'var(--green)' : presenceScore > 10 ? 'var(--gold)' : 'var(--accent)'}">${Math.round(presenceScore)}/25</div><div class="score-item-label">Online Presence</div></div>
        <div class="score-item"><div class="score-item-num" style="color:${seoScore > 12 ? 'var(--green)' : seoScore > 8 ? 'var(--gold)' : 'var(--accent)'}">${Math.round(seoScore)}/25</div><div class="score-item-label">Local SEO</div></div>
        <div class="score-item"><div class="score-item-num" style="color:${conversionScore > 10 ? 'var(--green)' : conversionScore > 5 ? 'var(--gold)' : 'var(--accent)'}">${Math.round(conversionScore)}/25</div><div class="score-item-label">Conversion</div></div>
    `;

    // Build audit items
    const auditItems = [];

    // Website audit
    if (website === 'no') {
        auditItems.push({ cat: 'Online Presence', icon: '‚ùå', text: 'No website detected', desc: `${name} has no website. Customers searching "${name.toLowerCase()}" or related services cannot find dedicated business information.`, priority: 'high' });
        auditItems.push({ cat: 'Online Presence', icon: '‚ùå', text: 'No click-to-call on web', desc: 'Without a website, there\'s no mobile-optimised click-to-call button for search users.', priority: 'high' });
        auditItems.push({ cat: 'Online Presence', icon: '‚ö†Ô∏è', text: 'Relying solely on Google listing', desc: 'Google Business Profile is the only online touchpoint. This is risky ‚Äî GBP can be suspended or modified by third parties.', priority: 'medium' });
    } else if (website === 'facebook') {
        auditItems.push({ cat: 'Online Presence', icon: '‚ö†Ô∏è', text: 'Facebook page only ‚Äî no website', desc: 'Facebook pages rank poorly in Google search and don\'t support Schema markup or SEO optimisation.', priority: 'high' });
        auditItems.push({ cat: 'Online Presence', icon: '‚ö†Ô∏è', text: 'No custom domain', desc: 'Using facebook.com/... as a web presence looks unprofessional and limits search visibility.', priority: 'medium' });
    } else if (website === 'basic') {
        auditItems.push({ cat: 'Online Presence', icon: '‚ö†Ô∏è', text: 'Basic/outdated website', desc: 'The current website may lack modern design, mobile responsiveness, or speed optimisation.', priority: 'medium' });
    }

    // SEO audit
    if (website !== 'good') {
        auditItems.push({ cat: 'Local SEO', icon: '‚ùå', text: 'No Schema.org markup', desc: 'Schema markup helps Google display rich snippets (stars, hours, location) in search results. Missing this means reduced visibility.', priority: 'high' });
        auditItems.push({ cat: 'Local SEO', icon: '‚ùå', text: 'No meta title/description optimisation', desc: 'Without optimised meta tags, Google generates its own snippet which may not be compelling.', priority: 'medium' });
        auditItems.push({ cat: 'Local SEO', icon: '‚ö†Ô∏è', text: 'Missing local landing pages', desc: 'Service-specific and location-specific pages could capture more long-tail searches.', priority: 'low' });
    }

    // Reviews audit
    if (reviews > 50) {
        auditItems.push({ cat: 'Reviews & Trust', icon: '‚úÖ', text: `Strong review count (${reviews})`, desc: `${reviews} reviews is excellent social proof. This should be prominently displayed on a website.`, priority: 'low' });
    } else if (reviews > 10) {
        auditItems.push({ cat: 'Reviews & Trust', icon: '‚ö†Ô∏è', text: `Moderate review count (${reviews})`, desc: 'Growing reviews but could benefit from a review collection strategy to build more social proof.', priority: 'medium' });
    } else {
        auditItems.push({ cat: 'Reviews & Trust', icon: '‚ùå', text: `Low review count (${reviews})`, desc: 'Very few reviews reduces trust signals. A review collection strategy is needed.', priority: 'high' });
    }

    if (website !== 'good') {
        auditItems.push({ cat: 'Reviews & Trust', icon: '‚ùå', text: 'Reviews not displayed on website', desc: 'Google reviews are hidden on the GBP listing. Showing them on a website provides social proof at the moment of decision.', priority: 'high' });
    }

    // Conversion audit
    auditItems.push({ cat: 'Conversion', icon: website !== 'good' ? '‚ùå' : '‚úÖ', text: website !== 'good' ? 'No optimised conversion path' : 'Conversion path exists', desc: website !== 'good' ? 'No clear journey from Google search ‚Üí website ‚Üí phone call/visit. Each step lost = customers lost.' : 'Website provides a clear path from search to contact.', priority: website !== 'good' ? 'high' : 'low' });

    if (website === 'no' || website === 'facebook') {
        auditItems.push({ cat: 'Conversion', icon: '‚ùå', text: 'No Google Maps embed', desc: 'Embedding Google Maps on a website makes it easier for customers to get directions without leaving the page.', priority: 'medium' });
        auditItems.push({ cat: 'Conversion', icon: '‚ùå', text: 'No WhatsApp contact option', desc: 'Many customers prefer messaging over calling. A WhatsApp button can increase enquiries by 20-30%.', priority: 'medium' });
    }

    // Group by category and render
    const categories = {};
    auditItems.forEach(item => {
        if (!categories[item.cat]) categories[item.cat] = [];
        categories[item.cat].push(item);
    });

    let auditHtml = '';
    for (const [cat, items] of Object.entries(categories)) {
        const catIcon = cat === 'Online Presence' ? 'üåê' : cat === 'Local SEO' ? 'üìà' : cat === 'Reviews & Trust' ? '‚≠ê' : 'üéØ';
        auditHtml += `<div class="audit-category"><h3>${catIcon} ${cat}</h3>`;
        items.forEach(item => {
            auditHtml += `<div class="audit-item">
                <div class="audit-icon">${item.icon}</div>
                <div class="audit-content"><strong>${item.text}</strong><p>${item.desc}</p></div>
                <span class="audit-priority priority-${item.priority}">${item.priority}</span>
            </div>`;
        });
        auditHtml += '</div>';
    }

    document.getElementById('auditSection').style.display = 'block';
    document.getElementById('auditSection').innerHTML = auditHtml;

    // Action plan
    const actions = [];
    if (website === 'no' || website === 'facebook') {
        actions.push({ title: 'Build a professional website', desc: 'Create a mobile-first, SEO-optimised website with click-to-call, maps, and reviews.' });
    }
    if (website !== 'good') {
        actions.push({ title: 'Add Schema.org structured data', desc: 'Implement LocalBusiness schema for rich Google snippets with stars, hours, and location.' });
    }
    if (reviews < 50) {
        actions.push({ title: 'Launch review collection campaign', desc: 'Send existing customers a simple link to leave Google reviews. Target 5+ new reviews per month.' });
    }
    actions.push({ title: 'Optimise Google Business Profile', desc: 'Ensure all categories, attributes, opening hours, photos, and services are complete and accurate.' });
    if (website !== 'good') {
        actions.push({ title: 'Set up analytics tracking', desc: 'Install website analytics to track visitors, call clicks, and map interactions.' });
    }
    actions.push({ title: 'Create content strategy', desc: 'Regular updates, blog posts, and social proof to build authority and improve search rankings.' });

    let actionHtml = '<h2>Recommended Action Plan</h2>';
    actions.forEach((action, i) => {
        actionHtml += `<div class="action-step">
            <div class="action-num">${i + 1}</div>
            <div class="action-text"><strong>${action.title}</strong><span>${action.desc}</span></div>
        </div>`;
    });

    document.getElementById('actionPlan').style.display = 'block';
    document.getElementById('actionPlan').innerHTML = actionHtml;

    // Scroll to results
    document.getElementById('scoreSection').scrollIntoView({ behavior: 'smooth' });
}
</script>
</body>
</html>