<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Proposal Generator â€” E17Studios Admin</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        :root{--bg:#09090f;--surface:#111118;--surface2:#16161f;--border:#25253a;--text:#e8e8f0;--muted:#8888a0;--dim:#55556a;--accent:#e74c3c;--green:#2ecc71;--blue:#3498db;--gold:#f39c12;--radius:12px}
        body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:var(--bg);color:var(--text);display:flex;min-height:100vh}
        a{text-decoration:none;color:inherit}

        .sidebar{width:260px;min-width:260px;background:var(--surface);border-right:1px solid var(--border);position:fixed;top:0;left:0;bottom:0;overflow-y:auto;padding:20px 0}
        .sidebar-logo{padding:0 20px 20px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:10px;margin-bottom:16px}
        .logo-mark{width:36px;height:36px;background:linear-gradient(135deg,var(--accent),#c0392b);border-radius:10px;display:flex;align-items:center;justify-content:center;font-weight:900;font-size:.75rem;color:#fff}
        .logo-text{font-weight:800;font-size:1.05rem}.logo-text span{color:var(--accent)}
        .nav-group{margin-bottom:8px;padding:0 12px}
        .nav-label{font-size:.65rem;text-transform:uppercase;letter-spacing:.1em;color:var(--dim);padding:12px 8px 6px;font-weight:700}
        .nav-link{display:flex;align-items:center;gap:10px;padding:8px 12px;border-radius:8px;font-size:.82rem;color:var(--muted);transition:all .15s;font-weight:500}
        .nav-link:hover{background:rgba(255,255,255,.04);color:var(--text)}
        .nav-link.active{background:rgba(231,76,60,.12);color:var(--accent);font-weight:600}

        .main{margin-left:260px;flex:1;padding:32px}
        .container{max-width:1100px;margin:0 auto}

        .page-header{margin-bottom:32px}
        .page-header h1{font-size:1.8rem;font-weight:900;margin-bottom:6px}
        .page-header p{color:var(--muted);font-size:.9rem}

        .gen-layout{display:grid;grid-template-columns:380px 1fr;gap:24px}

        .form-panel{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:24px;position:sticky;top:32px;align-self:start}
        .form-panel h2{font-size:1rem;font-weight:800;margin-bottom:20px;display:flex;align-items:center;gap:8px}
        .form-group{margin-bottom:16px}
        .form-group label{display:block;font-size:.78rem;font-weight:600;color:var(--muted);margin-bottom:6px;text-transform:uppercase;letter-spacing:.04em}
        .form-group input,.form-group select,.form-group textarea{width:100%;padding:10px 14px;background:var(--surface2);border:1px solid var(--border);border-radius:8px;color:var(--text);font-size:.88rem;font-family:inherit}
        .form-group input:focus,.form-group select:focus,.form-group textarea:focus{outline:none;border-color:var(--accent)}
        .form-group textarea{resize:vertical;min-height:80px}
        .form-row{display:grid;grid-template-columns:1fr 1fr;gap:12px}

        .gen-btn{width:100%;padding:14px;background:var(--accent);color:#fff;border:none;border-radius:var(--radius);font-size:1rem;font-weight:800;cursor:pointer;transition:all .2s;margin-top:8px}
        .gen-btn:hover{background:#c0392b;transform:translateY(-1px)}
        .gen-btn:disabled{opacity:.5;cursor:not-allowed;transform:none}

        .preview-panel{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden}
        .preview-toolbar{display:flex;align-items:center;justify-content:space-between;padding:14px 20px;border-bottom:1px solid var(--border);background:var(--surface2)}
        .preview-toolbar h3{font-size:.85rem;font-weight:700}
        .toolbar-btns{display:flex;gap:8px}
        .toolbar-btn{padding:7px 16px;border-radius:8px;border:1px solid var(--border);background:transparent;color:var(--muted);font-size:.78rem;font-weight:600;cursor:pointer;transition:all .15s}
        .toolbar-btn:hover{border-color:var(--accent);color:var(--accent)}
        .toolbar-btn.primary{background:var(--accent);border-color:var(--accent);color:#fff}
        .toolbar-btn.primary:hover{background:#c0392b}

        .preview-content{padding:40px;background:#fff;color:#1a1a2e;min-height:600px}

        /* Proposal Styles (light theme, printable) */
        .prop-header{text-align:center;padding-bottom:32px;border-bottom:3px solid #e74c3c;margin-bottom:32px}
        .prop-logo{display:flex;align-items:center;justify-content:center;gap:10px;margin-bottom:20px}
        .prop-logo-mark{width:40px;height:40px;background:linear-gradient(135deg,#e74c3c,#c0392b);border-radius:10px;display:flex;align-items:center;justify-content:center;font-weight:900;font-size:.8rem;color:#fff}
        .prop-logo-text{font-weight:800;font-size:1.2rem;color:#1a1a2e}
        .prop-logo-text span{color:#e74c3c}
        .prop-title{font-size:2rem;font-weight:900;color:#1a1a2e;margin-bottom:6px}
        .prop-subtitle{font-size:1.1rem;color:#6a6a7e}
        .prop-date{font-size:.8rem;color:#8888a0;margin-top:12px}

        .prop-section{margin-bottom:32px}
        .prop-section h2{font-size:1.2rem;font-weight:800;color:#1a1a2e;margin-bottom:12px;padding-bottom:8px;border-bottom:2px solid #f0f0f5}
        .prop-section p{font-size:.9rem;color:#4a4a5e;line-height:1.7}

        .prop-stats{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin:20px 0}
        .prop-stat{text-align:center;padding:20px;background:#f5f7fa;border-radius:12px}
        .prop-stat-num{font-size:2rem;font-weight:900;color:#e74c3c}
        .prop-stat-label{font-size:.75rem;color:#8888a0;text-transform:uppercase;letter-spacing:.05em;margin-top:4px}

        .prop-features{list-style:none;margin:16px 0}
        .prop-features li{padding:10px 0;border-bottom:1px solid #f0f0f5;display:flex;align-items:center;gap:10px;font-size:.9rem;color:#4a4a5e}
        .prop-features li::before{content:'âœ“';color:#27ae60;font-weight:700;font-size:1.1rem}
        .prop-features li:last-child{border-bottom:none}

        .prop-pricing{background:#f5f7fa;border-radius:12px;padding:24px;text-align:center;margin:20px 0}
        .prop-pricing h3{font-size:1rem;font-weight:700;color:#1a1a2e;margin-bottom:4px}
        .prop-price{font-size:2.5rem;font-weight:900;color:#e74c3c}
        .prop-price-sub{font-size:.85rem;color:#8888a0;margin-top:4px}
        .prop-price-note{font-size:.8rem;color:#6a6a7e;margin-top:12px;padding-top:12px;border-top:1px solid #e0e4ea}

        .prop-timeline{margin:16px 0}
        .prop-timeline-item{display:flex;gap:16px;padding:12px 0;border-bottom:1px solid #f0f0f5}
        .prop-timeline-day{width:80px;flex-shrink:0;font-weight:800;color:#e74c3c;font-size:.85rem}
        .prop-timeline-text{font-size:.88rem;color:#4a4a5e}

        .prop-guarantee{background:linear-gradient(135deg,#27ae60,#219a52);color:#fff;border-radius:12px;padding:20px;text-align:center;margin:24px 0}
        .prop-guarantee h3{font-size:1rem;font-weight:800;margin-bottom:4px}
        .prop-guarantee p{font-size:.85rem;opacity:.85}

        .prop-cta{text-align:center;margin-top:32px;padding-top:24px;border-top:2px solid #f0f0f5}
        .prop-cta h3{font-size:1.1rem;font-weight:800;color:#1a1a2e;margin-bottom:6px}
        .prop-cta p{font-size:.88rem;color:#6a6a7e;margin-bottom:16px}
        .prop-cta-btn{display:inline-block;background:#e74c3c;color:#fff;padding:14px 40px;border-radius:12px;font-weight:800;font-size:1rem}

        .prop-footer{text-align:center;margin-top:40px;padding-top:20px;border-top:1px solid #e0e4ea;font-size:.75rem;color:#8888a0}

        .empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:500px;color:var(--muted);text-align:center;padding:40px}
        .empty-icon{font-size:4rem;margin-bottom:16px;opacity:.3}
        .empty-state h3{font-size:1.2rem;font-weight:700;margin-bottom:6px;color:var(--text)}
        .empty-state p{font-size:.88rem;max-width:360px}

        @media print{
            .sidebar,.form-panel,.preview-toolbar{display:none!important}
            .main{margin-left:0!important}
            .gen-layout{grid-template-columns:1fr!important}
            .preview-panel{border:none!important;box-shadow:none!important}
            .preview-content{padding:0!important}
        }
        @media(max-width:1024px){.sidebar{display:none}.main{margin-left:0}.gen-layout{grid-template-columns:1fr}}
    </style>
</head>
<body>

<aside class="sidebar">
    <div class="sidebar-logo">
        <div class="logo-mark">E17</div>
        <div class="logo-text">E17<span>Studios</span></div>
    </div>
    <nav>
        <div class="nav-group">
            <div class="nav-label">Pipeline</div>
            <a href="/admin/" class="nav-link">&#9633; CRM Dashboard</a>
            <a href="/admin/analytics.html" class="nav-link">&#9672; Analytics</a>
            <a href="/admin/lead-scoring.html" class="nav-link">&#9733; Lead Scoring</a>
        </div>
        <div class="nav-group">
            <div class="nav-label">Sales Tools</div>
            <a href="/admin/proposal-generator.html" class="nav-link active">&#9998; Proposal Generator</a>
            <a href="/admin/roi-calculator.html" class="nav-link">&#9736; ROI Calculator</a>
            <a href="/admin/competitor-analysis.html" class="nav-link">&#8982; Competitor Analysis</a>
            <a href="/admin/sales-script.html" class="nav-link">&#9998; Sales Script</a>
            <a href="/admin/sequence-builder.html" class="nav-link">&#9993; Sequence Builder</a>
            <a href="/admin/whatsapp-templates.html" class="nav-link">&#9742; WhatsApp Templates</a>
            <a href="/emails/preview.html" class="nav-link">&#9993; Email Templates</a>
        </div>
        <div class="nav-group">
            <div class="nav-label">Client Tools</div>
            <a href="/admin/client-success.html" class="nav-link">&#9650; Success Metrics</a>
            <a href="/admin/client-report.html" class="nav-link">&#9635; Client Report</a>
            <a href="/admin/client-dashboard.html" class="nav-link">&#9638; Client Dashboard</a>
            <a href="/admin/invoice.html" class="nav-link">&#9635; Invoice</a>
        </div>
        <div class="nav-group">
            <div class="nav-label">Operations</div>
            <a href="/admin/expansion-planner.html" class="nav-link">&#8862; Expansion Planner</a>
            <a href="/admin/social-calendar.html" class="nav-link">&#9733; Social Calendar</a>
            <a href="/admin/ab-testing.html" class="nav-link">&#8982; A/B Testing</a>
            <a href="/admin/deploy-guide.html" class="nav-link">&#9654; Deploy Guide</a>
        </div>
        <div class="nav-group">
            <div class="nav-label">Navigation</div>
            <a href="/sitemap.html" class="nav-link">&#9776; Sitemap</a>
            <a href="/e17studios/" class="nav-link">&#9750; Public Site</a>
        </div>
    </nav>
</aside>

<main class="main">
    <div class="container">
        <div class="page-header">
            <h1>Proposal Generator</h1>
            <p>Create personalised, professional proposals for prospective clients in seconds. Print or send as PDF.</p>
        </div>

        <div class="gen-layout">
            <div class="form-panel">
                <h2>Business Details</h2>
                <div class="form-group">
                    <label>Business Name</label>
                    <input type="text" id="bizName" placeholder="e.g. Morris Dry Cleaners" value="">
                </div>
                <div class="form-group">
                    <label>Owner Name</label>
                    <input type="text" id="ownerName" placeholder="e.g. Morris">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Business Type</label>
                        <select id="bizType">
                            <option value="Dry Cleaners">Dry Cleaners</option>
                            <option value="Barber Shop">Barber Shop</option>
                            <option value="Takeaway">Takeaway / Restaurant</option>
                            <option value="Plumber">Plumber</option>
                            <option value="Nail Salon">Nail Salon</option>
                            <option value="Florist">Florist</option>
                            <option value="Personal Trainer">Personal Trainer</option>
                            <option value="Dog Groomer">Dog Groomer</option>
                            <option value="Dentist">Dentist</option>
                            <option value="Other">Other Local Business</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Location</label>
                        <input type="text" id="location" placeholder="e.g. Walthamstow, E17" value="">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Google Reviews</label>
                        <input type="number" id="reviews" placeholder="e.g. 669" value="">
                    </div>
                    <div class="form-group">
                        <label>Star Rating</label>
                        <input type="number" id="rating" placeholder="e.g. 4.9" step="0.1" min="1" max="5" value="">
                    </div>
                </div>
                <div class="form-group">
                    <label>Recommended Plan</label>
                    <select id="plan">
                        <option value="starter">Starter â€” Â£29/mo</option>
                        <option value="professional" selected>Professional â€” Â£49/mo</option>
                        <option value="premium">Premium â€” Â£99/mo</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Custom Note (Optional)</label>
                    <textarea id="customNote" placeholder="Add a personal touch â€” mention something specific about their business..."></textarea>
                </div>
                <button class="gen-btn" onclick="generateProposal()">Generate Proposal</button>
            </div>

            <div class="preview-panel">
                <div class="preview-toolbar">
                    <h3>Proposal Preview</h3>
                    <div class="toolbar-btns">
                        <button class="toolbar-btn" onclick="copyProposal()">Copy Link</button>
                        <button class="toolbar-btn primary" onclick="window.print()">Print / Save PDF</button>
                    </div>
                </div>
                <div class="preview-content" id="proposalOutput">
                    <div class="empty-state">
                        <div class="empty-icon">ðŸ“„</div>
                        <h3>No Proposal Yet</h3>
                        <p>Fill in the business details on the left and click "Generate Proposal" to create a personalised pitch document.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<script>
const planDetails = {
    starter: { name: 'Starter', price: '29', features: ['Professional 1-page website','Mobile responsive design','Google Maps integration','Basic SEO setup','Email support','Monthly performance report','SSL security certificate','Custom domain setup'] },
    professional: { name: 'Professional', price: '49', features: ['Multi-page website (up to 5 pages)','Mobile responsive design','Google Reviews integration','Advanced SEO & Schema markup','Google Maps integration','WhatsApp support','Weekly performance reports','Priority change requests','SSL security certificate','Custom domain setup','Social media links','Click-to-call button'] },
    premium: { name: 'Premium', price: '99', features: ['Fully custom multi-page website','Premium responsive design','Google Reviews integration','Advanced SEO & Schema markup','Booking / contact forms','Social media integration','A/B testing & optimisation','Dedicated account manager','Same-day change requests','Monthly strategy calls','Competitor monitoring','Blog / content updates','Custom email addresses','Priority everything'] }
};

function generateProposal() {
    const name = document.getElementById('bizName').value || 'Your Business';
    const owner = document.getElementById('ownerName').value || 'there';
    const type = document.getElementById('bizType').value;
    const location = document.getElementById('location').value || 'East London';
    const reviews = document.getElementById('reviews').value || '0';
    const rating = document.getElementById('rating').value || '4.5';
    const planKey = document.getElementById('plan').value;
    const note = document.getElementById('customNote').value;
    const plan = planDetails[planKey];

    const avgCustomerValue = type === 'Dry Cleaners' ? 25 : type === 'Barber Shop' ? 18 : type === 'Takeaway' ? 15 : type === 'Plumber' ? 120 : type === 'Nail Salon' ? 35 : type === 'Florist' ? 40 : type === 'Dentist' ? 80 : 30;
    const monthlyCustomers = 8;
    const annualRevenue = avgCustomerValue * monthlyCustomers * 12;
    const annualCost = plan.price * 12;
    const roi = Math.round(((annualRevenue - annualCost) / annualCost) * 100);

    const today = new Date();
    const dateStr = today.toLocaleDateString('en-GB', { day: 'numeric', month: 'long', year: 'numeric' });
    const validUntil = new Date(today.getTime() + 14 * 24 * 60 * 60 * 1000).toLocaleDateString('en-GB', { day: 'numeric', month: 'long', year: 'numeric' });

    const featuresHtml = plan.features.map(f => `<li>${f}</li>`).join('');

    const personalNote = note ? `<div class="prop-section"><h2>A Personal Note</h2><p>${note}</p></div>` : '';

    document.getElementById('proposalOutput').innerHTML = `
        <div class="prop-header">
            <div class="prop-logo">
                <div class="prop-logo-mark">E17</div>
                <div class="prop-logo-text">E17<span>Studios</span></div>
            </div>
            <div class="prop-title">Website Proposal for ${name}</div>
            <div class="prop-subtitle">Prepared exclusively for ${owner}</div>
            <div class="prop-date">${dateStr} Â· Valid until ${validUntil}</div>
        </div>

        ${personalNote}

        <div class="prop-section">
            <h2>The Opportunity</h2>
            <p>Hi ${owner}, we've been looking at ${type.toLowerCase()} businesses in ${location} and noticed that <strong>${name}</strong> has an incredible reputation â€” <strong>${reviews} Google reviews</strong> with a <strong>${rating}-star rating</strong>. That's outstanding social proof that most businesses would dream of.</p>
            <p style="margin-top:12px">But here's the challenge: without a professional website, potential customers searching for "${type.toLowerCase()} near me" or "${type.toLowerCase()} ${location}" may never find you. <strong>97% of consumers search online before visiting a local business</strong> â€” and right now, you could be missing out on 8-15 new customers every single month.</p>
        </div>

        <div class="prop-section">
            <h2>Your Business at a Glance</h2>
            <div class="prop-stats">
                <div class="prop-stat"><div class="prop-stat-num">${reviews}</div><div class="prop-stat-label">Google Reviews</div></div>
                <div class="prop-stat"><div class="prop-stat-num">${rating}â˜…</div><div class="prop-stat-label">Star Rating</div></div>
                <div class="prop-stat"><div class="prop-stat-num">${location}</div><div class="prop-stat-label">Location</div></div>
            </div>
        </div>

        <div class="prop-section">
            <h2>What We'll Build for You</h2>
            <p>A professional, mobile-first website designed specifically for ${name}. Everything is included â€” design, development, hosting, maintenance, and ongoing support. Your ${plan.name} Plan includes:</p>
            <ul class="prop-features">${featuresHtml}</ul>
        </div>

        <div class="prop-section">
            <h2>Your Investment</h2>
            <div class="prop-pricing">
                <h3>${plan.name} Plan</h3>
                <div class="prop-price">Â£${plan.price}<span style="font-size:1rem;font-weight:400;color:#6a6a7e">/month</span></div>
                <div class="prop-price-sub">No upfront costs Â· No setup fees Â· No contracts</div>
                <div class="prop-price-note">That's just Â£${(plan.price / 30).toFixed(2)} per day â€” less than a cup of coffee. Cancel anytime with 30 days' notice.</div>
            </div>
        </div>

        <div class="prop-section">
            <h2>Return on Investment</h2>
            <p>Let's look at the numbers. If your average customer spends <strong>Â£${avgCustomerValue}</strong> and your website brings in just <strong>${monthlyCustomers} new customers per month</strong> (a conservative estimate):</p>
            <div class="prop-stats">
                <div class="prop-stat"><div class="prop-stat-num">Â£${annualRevenue.toLocaleString()}</div><div class="prop-stat-label">New Revenue / Year</div></div>
                <div class="prop-stat"><div class="prop-stat-num">Â£${annualCost}</div><div class="prop-stat-label">Website Cost / Year</div></div>
                <div class="prop-stat"><div class="prop-stat-num">${roi}%</div><div class="prop-stat-label">ROI</div></div>
            </div>
        </div>

        <div class="prop-section">
            <h2>How It Works</h2>
            <div class="prop-timeline">
                <div class="prop-timeline-item"><div class="prop-timeline-day">Day 1</div><div class="prop-timeline-text"><strong>We build your site</strong> â€” Using your Google Business data, reviews, photos, and brand colours. No work needed from you.</div></div>
                <div class="prop-timeline-item"><div class="prop-timeline-day">Day 2</div><div class="prop-timeline-text"><strong>You review it</strong> â€” We send you a live preview link. Request any changes you'd like.</div></div>
                <div class="prop-timeline-item"><div class="prop-timeline-day">Day 3</div><div class="prop-timeline-text"><strong>We go live</strong> â€” Your website is published and starts appearing in Google searches.</div></div>
                <div class="prop-timeline-item"><div class="prop-timeline-day">Ongoing</div><div class="prop-timeline-text"><strong>We manage everything</strong> â€” Updates, maintenance, performance monitoring, and support. You focus on your business.</div></div>
            </div>
        </div>

        <div class="prop-guarantee">
            <h3>14-Day Money-Back Guarantee</h3>
            <p>If you're not completely satisfied with your website within the first 14 days, we'll refund every penny. No questions asked.</p>
        </div>

        <div class="prop-cta">
            <h3>Ready to Get Started?</h3>
            <p>Reply to this proposal or give us a call â€” we can have your website live within 48 hours.</p>
            <a href="#" class="prop-cta-btn">Let's Go â†’</a>
        </div>

        <div class="prop-footer">
            <p>E17Studios.com Â· Professional Websites for Local Businesses</p>
            <p style="margin-top:4px">hello@e17studios.com Â· WhatsApp: 07XXX XXXXXX</p>
            <p style="margin-top:8px">This proposal was prepared exclusively for ${name}. Valid until ${validUntil}.</p>
        </div>
    `;
}

function copyProposal() {
    const el = document.getElementById('proposalOutput');
    if (el.querySelector('.empty-state')) { alert('Generate a proposal first!'); return; }
    const range = document.createRange();
    range.selectNodeContents(el);
    const sel = window.getSelection();
    sel.removeAllRanges();
    sel.addRange(range);
    document.execCommand('copy');
    sel.removeAllRanges();
    alert('Proposal content copied to clipboard!');
}
</script>
</body>
</html>